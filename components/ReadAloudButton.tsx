// components/ReadAloudButton.tsx
import React from 'react';

interface ReadAloudButtonProps {
  isSpeaking: boolean;
  onReadAloud: () => void;
  disabled?: boolean;
}

const ReadAloudButton: React.FC<ReadAloudButtonProps> = ({ isSpeaking, onReadAloud, disabled }) => {
  const buttonClasses = `
    p-4 md:p-6 rounded-full shadow-lg transition-all duration-300 ease-in-out
    focus:outline-none focus:ring-4 focus:ring-opacity-75
    ${isSpeaking
      ? 'bg-blue-500 hover:bg-blue-600 focus:ring-blue-300'
      : 'bg-purple-600 hover:bg-purple-700 focus:ring-purple-400'}
    ${disabled ? 'opacity-50 cursor-not-allowed' : ''}
  `;

  // Precisely crafted SVG icon based on the provided graphic
  const SpeechIcon = (
    <svg
      xmlns="http://www.w3.org/2000/svg"
      className={`h-10 w-10 md:h-12 md:w-12 text-white ${isSpeaking ? 'animate-pulse' : ''}`}
      viewBox="0 0 375 375" // Adjusted to the original SVG's viewBox for accurate scaling
      fill="currentColor" // Ensures all paths within inherit the text-white color
      aria-hidden="true" // Indicate that this SVG is decorative
    >
      {/* Main speech bubble shape, extracted from the provided SVG */}
      <path d="M 194.429688 66.195312 C 118.140625 66.195312 56.074219 112.742188 56.074219 169.960938 C 56.074219 197.828125 71.121094 224.566406 97.554688 244.011719 L 90.730469 298.597656 C 90.632812 299.390625 90.640625 300.183594 90.761719 300.972656 C 90.882812 301.761719 91.109375 302.519531 91.4375 303.246094 C 91.769531 303.972656 92.191406 304.640625 92.707031 305.253906 C 93.222656 305.863281 93.808594 306.390625 94.472656 306.835938 C 95.132812 307.285156 95.84375 307.632812 96.601562 307.882812 C 97.359375 308.132812 98.136719 308.273438 98.9375 308.308594 C 99.734375 308.34375 100.523438 308.269531 101.296875 308.085938 C 102.074219 307.902344 102.8125 307.617188 103.511719 307.230469 L 167.472656 271.695312 C 176.40625 273.039062 185.394531 273.714844 194.429688 273.730469 C 270.71875 273.730469 332.789062 227.183594 332.789062 169.960938 C 332.789062 112.742188 270.71875 66.195312 194.429688 66.195312 Z M 194.429688 256.433594 C 185.320312 256.414062 176.269531 255.660156 167.28125 254.164062 C 165.300781 253.839844 163.429688 254.164062 161.671875 255.136719 L 110.003906 283.835938 L 115.359375 241.003906 C 115.457031 240.210938 115.449219 239.421875 115.328125 238.628906 C 115.207031 237.839844 114.980469 237.082031 114.652344 236.355469 C 114.320312 235.628906 113.898438 234.957031 113.382812 234.347656 C 112.867188 233.738281 112.277344 233.210938 111.613281 232.761719 C 86.953125 216.136719 73.367188 193.835938 73.367188 169.960938 C 73.367188 122.28125 127.675781 83.488281 194.429688 83.488281 C 261.1875 83.488281 315.492188 122.28125 315.492188 169.960938 C 315.492188 217.640625 261.1875 256.433594 194.429688 256.433594 Z M 194.429688 256.433594 " />
      {/* First dot */}
      <path d="M 151.195312 169.960938 C 151.195312 170.527344 151.167969 171.09375 151.109375 171.65625 C 151.054688 172.21875 150.972656 172.78125 150.863281 173.335938 C 150.75 173.890625 150.613281 174.441406 150.449219 174.980469 C 150.285156 175.523438 150.09375 176.054688 149.878906 176.578125 C 149.660156 177.101562 149.417969 177.613281 149.152344 178.113281 C 148.886719 178.613281 148.59375 179.097656 148.28125 179.570312 C 147.964844 180.039062 147.628906 180.496094 147.269531 180.933594 C 146.910156 181.371094 146.53125 181.789062 146.128906 182.191406 C 145.726562 182.589844 145.308594 182.972656 144.871094 183.332031 C 144.433594 183.691406 143.980469 184.027344 143.507812 184.339844 C 143.039062 184.65625 142.550781 184.945312 142.050781 185.214844 C 141.554688 185.480469 141.042969 185.722656 140.519531 185.941406 C 139.996094 186.15625 139.460938 186.347656 138.921875 186.511719 C 138.378906 186.675781 137.828125 186.8125 137.273438 186.925781 C 136.71875 187.035156 136.160156 187.117188 135.59375 187.171875 C 135.03125 187.226562 134.464844 187.257812 133.898438 187.257812 C 133.332031 187.257812 132.769531 187.226562 132.203125 187.171875 C 131.640625 187.117188 131.082031 187.035156 130.527344 186.925781 C 129.96875 186.8125 129.421875 186.675781 128.878906 186.511719 C 128.335938 186.347656 127.804688 186.15625 127.28125 185.941406 C 126.757812 185.722656 126.246094 185.480469 125.746094 185.214844 C 125.246094 184.945312 124.761719 184.65625 124.292969 184.339844 C 123.820312 184.027344 123.367188 183.691406 122.929688 183.332031 C 122.492188 182.972656 122.070312 182.589844 121.671875 182.191406 C 121.269531 181.789062 120.890625 181.371094 120.53125 180.933594 C 120.171875 180.496094 119.835938 180.039062 119.519531 179.570312 C 119.203125 179.097656 118.914062 178.613281 118.648438 178.113281 C 118.378906 177.613281 118.136719 177.101562 117.921875 176.578125 C 117.703125 176.054688 117.515625 175.523438 117.351562 174.980469 C 117.183594 174.441406 117.046875 173.890625 116.9375 173.335938 C 116.828125 172.78125 116.742188 172.21875 116.6875 171.65625 C 116.632812 171.09375 116.605469 170.527344 116.605469 169.960938 C 116.605469 169.394531 116.632812 168.828125 116.6875 168.265625 C 116.742188 167.703125 116.828125 167.144531 116.9375 166.585938 C 117.046875 166.03125 117.183594 165.484375 117.351562 164.941406 C 117.515625 164.398438 117.703125 163.867188 117.921875 163.34375 C 118.136719 162.820312 118.378906 162.308594 118.648438 161.808594 C 118.914062 161.308594 119.203125 160.824219 119.519531 160.351562 C 119.835938 159.882812 120.171875 159.425781 120.53125 158.988281 C 120.890625 158.550781 121.269531 158.132812 121.671875 157.730469 C 122.070312 157.332031 122.492188 156.953125 122.929688 156.59375 C 123.367188 156.234375 123.820312 155.894531 124.292969 155.582031 C 124.761719 155.265625 125.246094 154.976562 125.746094 154.707031 C 126.246094 154.441406 126.757812 154.199219 127.28125 153.984375 C 127.804688 153.765625 128.335938 153.574219 128.878906 153.410156 C 129.421875 153.246094 129.96875 153.109375 130.527344 153 C 131.082031 152.886719 131.640625 152.804688 132.203125 152.75 C 132.769531 152.695312 133.332031 152.667969 133.898438 152.667969 C 134.464844 152.667969 135.03125 152.695312 135.59375 152.75 C 136.160156 152.804688 136.71875 152.886719 137.273438 153 C 137.828125 153.109375 138.378906 153.246094 138.921875 153.410156 C 139.460938 153.574219 139.996094 153.765625 140.519531 153.984375 C 141.042969 154.199219 141.554688 154.441406 142.050781 154.707031 C 142.550781 154.976562 143.039062 155.265625 143.507812 155.582031 C 143.980469 155.894531 144.433594 156.234375 144.871094 156.59375 C 145.308594 156.953125 145.726562 157.332031 146.128906 157.730469 C 146.53125 158.132812 146.910156 158.550781 147.269531 158.988281 C 147.628906 159.425781 147.964844 159.882812 148.28125 160.351562 C 148.59375 160.824219 148.886719 161.308594 149.152344 161.808594 C 149.417969 162.308594 149.660156 162.820312 149.878906 163.34375 C 150.09375 163.867188 150.285156 164.398438 150.449219 164.941406 C 150.613281 165.484375 150.75 166.03125 150.863281 166.585938 C 150.972656 167.144531 151.054688 167.703125 151.109375 168.265625 C 151.167969 168.828125 151.195312 169.394531 151.195312 169.960938 Z M 151.195312 169.960938 " />
      {/* Second dot */}
      <path d="M 211.726562 169.960938 C 211.726562 170.527344 211.699219 171.09375 211.640625 171.65625 C 211.585938 172.21875 211.503906 172.78125 211.394531 173.335938 C 211.28125 173.890625 211.144531 174.441406 210.980469 174.980469 C 210.816406 175.523438 210.625 176.054688 210.410156 176.578125 C 210.191406 177.101562 209.949219 177.613281 209.683594 178.113281 C 209.417969 178.613281 209.125 179.097656 208.8125 179.570312 C 208.496094 180.039062 208.160156 180.496094 207.800781 180.933594 C 207.441406 181.371094 207.0625 181.789062 206.660156 182.191406 C 206.257812 182.589844 205.839844 182.972656 205.402344 183.332031 C 204.964844 183.691406 204.511719 184.027344 204.039062 184.339844 C 203.570312 184.65625 203.082031 184.945312 202.582031 185.214844 C 202.085938 185.480469 201.574219 185.722656 201.050781 185.941406 C 200.527344 186.15625 199.992188 186.347656 199.453125 186.511719 C 198.910156 186.675781 198.359375 186.8125 197.804688 186.925781 C 197.25 187.035156 196.691406 187.117188 196.125 187.171875 C 195.5625 187.226562 194.996094 187.257812 194.429688 187.257812 C 193.863281 187.257812 193.300781 187.226562 192.734375 187.171875 C 192.171875 187.117188 191.613281 187.035156 191.058594 186.925781 C 190.5 186.8125 189.953125 186.675781 189.410156 186.511719 C 188.867188 186.347656 188.335938 186.15625 187.8125 185.941406 C 187.289062 185.722656 186.777344 185.480469 186.277344 185.214844 C 185.777344 184.945312 185.292969 184.65625 184.824219 184.339844 C 184.351562 184.027344 183.898438 183.691406 183.460938 183.332031 C 183.023438 182.972656 182.601562 182.589844 182.203125 182.191406 C 181.800781 181.789062 181.421875 181.371094 181.0625 180.933594 C 180.703125 180.496094 180.367188 180.039062 180.050781 179.570312 C 179.738281 179.097656 179.445312 178.613281 179.179688 178.113281 C 178.910156 177.613281 178.667969 177.101562 178.453125 176.578125 C 178.234375 176.054688 178.046875 175.523438 177.882812 174.980469 C 177.714844 174.441406 177.578125 173.890625 177.46875 173.335938 C 177.359375 172.78125 177.273438 172.21875 177.21875 171.65625 C 177.164062 171.09375 177.136719 170.527344 177.136719 169.960938 C 177.136719 169.394531 177.164062 168.828125 177.21875 168.265625 C 177.273438 167.703125 177.359375 167.144531 177.46875 166.585938 C 177.578125 166.03125 177.714844 165.484375 177.882812 164.941406 C 178.046875 164.398438 178.234375 163.867188 178.453125 163.34375 C 178.667969 162.820312 178.910156 162.308594 179.179688 161.808594 C 179.445312 161.308594 179.738281 160.824219 180.050781 160.351562 C 180.367188 159.882812 180.703125 159.425781 181.0625 158.988281 C 181.421875 158.550781 181.800781 158.132812 182.203125 157.730469 C 182.601562 157.332031 183.023438 156.953125 183.460938 156.59375 C 183.898438 156.234375 184.351562 155.894531 184.824219 155.582031 C 185.292969 155.265625 185.777344 154.976562 186.277344 154.707031 C 186.777344 154.441406 187.289062 154.199219 187.8125 153.984375 C 188.335938 153.765625 188.867188 153.574219 189.410156 153.410156 C 189.953125 153.246094 190.5 153.109375 191.058594 153 C 191.613281 152.886719 192.171875 152.804688 192.734375 152.75 C 193.300781 152.695312 193.863281 152.667969 194.429688 152.667969 C 194.996094 152.667969 195.5625 152.695312 196.125 152.75 C 196.691406 152.804688 197.25 152.886719 197.804688 153 C 198.359375 153.109375 198.910156 153.246094 199.453125 153.410156 C 199.992188 153.574219 200.527344 153.765625 201.050781 153.984375 C 201.574219 154.199219 202.085938 154.441406 202.582031 154.707031 C 203.082031 154.976562 203.570312 155.265625 204.039062 155.582031 C 204.511719 155.894531 204.964844 156.234375 205.402344 156.59375 C 205.839844 156.953125 206.257812 157.332031 206.660156 157.730469 C 207.0625 158.132812 207.441406 158.550781 207.800781 158.988281 C 208.160156 159.425781 208.496094 159.882812 208.8125 160.351562 C 209.125 160.824219 209.417969 161.308594 209.683594 161.808594 C 209.949219 162.308594 210.191406 162.820312 210.410156 163.34375 C 210.625 163.867188 210.816406 164.398438 210.980469 164.941406 C 211.144531 165.484375 211.28125 166.03125 211.394531 166.585938 C 211.503906 167.144531 211.585938 167.703125 211.640625 168.265625 C 211.699219 168.828125 211.726562 169.394531 211.726562 169.960938 Z M 211.726562 169.960938 " />
      {/* Third dot */}
      <path d="M 272.257812 169.960938 C 272.257812 170.527344 272.230469 171.09375 272.175781 171.65625 C 272.117188 172.21875 272.035156 172.78125 271.925781 173.335938 C 271.8125 173.890625 271.675781 174.441406 271.511719 174.980469 C 271.347656 175.523438 271.15625 176.054688 270.941406 176.578125 C 270.722656 177.101562 270.480469 177.613281 270.214844 178.113281 C 269.949219 178.613281 269.65625 179.097656 269.34375 179.570312 C 269.027344 180.039062 268.691406 180.496094 268.332031 180.933594 C 267.972656 181.371094 267.59375 181.789062 267.191406 182.191406 C 266.792969 182.589844 266.371094 182.972656 265.933594 183.332031 C 265.496094 183.691406 265.042969 184.027344 264.570312 184.339844 C 264.101562 184.65625 263.613281 184.945312 263.113281 185.214844 C 262.617188 185.480469 262.105469 185.722656 261.582031 185.941406 C 261.058594 186.15625 260.523438 186.347656 259.984375 186.511719 C 259.441406 186.675781 258.890625 186.8125 258.335938 186.925781 C 257.78125 187.035156 257.222656 187.117188 256.65625 187.171875 C 256.09375 187.226562 255.527344 187.257812 254.960938 187.257812 C 254.394531 187.257812 253.832031 187.226562 253.265625 187.171875 C 252.703125 187.117188 252.144531 187.035156 251.589844 186.925781 C 251.03125 186.8125 250.484375 186.675781 249.941406 186.511719 C 249.398438 186.347656 248.867188 186.15625 248.34375 185.941406 C 247.820312 185.722656 247.308594 185.480469 246.808594 185.214844 C 246.308594 184.945312 245.824219 184.65625 245.355469 184.339844 C 244.882812 184.027344 244.429688 183.691406 243.992188 183.332031 C 243.554688 182.972656 243.132812 182.589844 242.734375 182.191406 C 242.332031 181.789062 241.953125 181.371094 241.59375 158.988281 C 241.234375 180.496094 240.898438 180.039062 240.582031 179.570312 C 240.269531 179.097656 239.976562 178.613281 239.710938 178.113281 C 239.441406 177.613281 239.199219 177.101562 238.984375 176.578125 C 238.765625 176.054688 238.578125 175.523438 238.414062 174.980469 C 238.25 174.441406 238.109375 173.890625 238 173.335938 C 237.890625 172.78125 237.804688 172.21875 237.75 171.65625 C 237.695312 171.09375 237.667969 170.527344 237.667969 169.960938 C 237.667969 169.394531 237.695312 168.828125 237.75 168.265625 C 237.804688 167.703125 237.890625 167.144531 238 166.585938 C 238.109375 166.03125 238.25 165.484375 238.414062 164.941406 C 238.578125 164.398438 238.765625 163.867188 238.984375 163.34375 C 239.199219 162.820312 239.441406 162.308594 239.710938 161.808594 C 239.976562 161.308594 240.269531 160.824219 240.582031 160.351562 C 240.898438 159.882812 241.234375 159.425781 241.59375 158.988281 C 241.953125 158.550781 242.332031 158.132812 242.734375 157.730469 C 243.132812 157.332031 243.554688 156.953125 243.992188 156.59375 C 244.429688 156.234375 244.882812 155.894531 245.355469 155.582031 C 245.824219 155.265625 246.308594 154.976562 246.808594 154.707031 C 247.308594 154.441406 247.820312 154.199219 248.34375 153.984375 C 248.867188 153.765625 249.398438 153.574219 249.941406 153.410156 C 250.484375 153.246094 251.03125 153.109375 251.589844 153 C 252.144531 152.886719 252.703125 152.804688 253.265625 152.75 C 253.832031 152.695312 254.394531 152.667969 254.960938 152.667969 C 255.527344 152.667969 256.09375 152.695312 256.65625 152.75 C 257.222656 152.804688 257.78125 152.886719 258.335938 153 C 258.890625 153.109375 259.441406 153.246094 259.984375 153.410156 C 260.523438 153.574219 261.058594 153.765625 261.582031 153.984375 C 262.105469 154.199219 262.617188 154.441406 263.113281 154.707031 C 263.613281 154.976562 264.101562 155.265625 264.570312 155.582031 C 265.042969 155.894531 265.496094 156.234375 265.933594 156.59375 C 266.371094 156.953125 266.792969 157.332031 267.191406 157.730469 C 267.59375 158.132812 267.972656 158.550781 268.332031 158.988281 C 268.691406 159.425781 269.027344 159.882812 269.34375 160.351562 C 269.65625 160.824219 269.949219 161.308594 270.214844 161.808594 C 270.480469 162.308594 270.722656 162.820312 270.941406 163.34375 C 271.15625 163.867188 271.347656 164.398438 271.511719 164.941406 C 271.675781 165.484375 271.8125 166.03125 271.925781 166.585938 C 272.035156 167.144531 272.117188 167.703125 272.175781 168.265625 C 272.230469 168.828125 272.257812 169.394531 272.257812 169.960938 Z M 272.257812 169.960938 " />
    </svg>
  );

  return (
    <button
      onClick={onReadAloud}
      className={buttonClasses}
      disabled={disabled}
      aria-label={isSpeaking ? "Stop reading" : "Read aloud"}
    >
      {SpeechIcon}
    </button>
  );
};

export default ReadAloudButton;